<!DOCTYPE HTML>
<html>
<head>
<title>Rocks-4.3 kernel to support RTL8111b - Allan Espinosa</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1,
      maximum-scale=1">
<link rel="stylesheet" type="text/css" href="../css/main.css" />
</head>
<body>

<header>
  <h1> Allan Espinosa </h1>
</header>
<nav>
  <ul>
    <li><a href="../">Home</a></li>
    <li><a href="../blog/">Blog</a></li>
    <li><a href="../presentations.html">Publications</a></li>
    <li><a href="../contact.html">Contact</a></li>
  </ul>
</nav>
<main>
<article class="post">
  <h1>Rocks-4.3 kernel to support RTL8111b</h1>
  <p>2008 February 15</p>

  <section>
    <p>To <a href="http://allan.88-mph.net/blog/entry/realtek-8111b-ge-on-rocks-43/#comment-9631">Beshr</a>:</p>
<p>The vanilla install of Rockscluster 4.3 uses version 2.6.9-55EL of the linux kernel. Native support for the Realtek 8111B (r8168) did not come until 2.6.19.xx. I downloaded 2.6.23.13 from <a href="http://kernel.org">kernel.org</a>. After rebuilding the kernel, you have to enable the kernel to map the hardware ID of the device to the correct module (r8169). Here is an archive of the files that I used to build the driver:</p>
<p><a href="http://ohm.ecce.admu.edu.ph/%7Eaespinosa/rocksclusters/rocks-boot-drivers.tar.gz">rocks-boot-drivers.tar.gz</a>: I added the r8168 directory and modified the <em>subdirs</em> file to build this module for the kernel. It actually does not build anything since there are no entries in the SOURCE variable of the Makefile. Extract this tarball to your Rocks CVS tree ($ROCKS-SRC-ROOT/src/roll/kernel/src/rocks-boot/enterprise/4/images) The following entry was added to <em>drivers/r8168/</em>:</p>
<p><code>0x10ec  0x8168  "r8169" "RealTek RTL8168B/8111B, RTL8168C/8111C Gigabit Ethernet controller</code></p>
<p>Where <em>0x10ec 0x8168</em> is the hardware ID of my GigE controller.</p>
<p>Then I followed the instructions <a href="http://www.rocksclusters.org/rocks-documentation/4.3/customization-kernel.html"><em>Creating a Custom Kernel RPM</em></a> and <em><a href="http://www.rocksclusters.org/rocks-documentation/4.3/customization-driver.html">Adding a Device Driver</a></em> of the <em>User Guide</em>.</p>
<p>Good luck in building your cluster!</p>
  </section>
</article>

</main>

<div id="others">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- Sidebar -->
  <ins class="adsbygoogle" style="display:inline-block;width:300px;height:600px" data-ad-client="ca-pub-8408299806266445" data-ad-slot="7051680217"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

<footer>
  Last updated 2021 February 11
</footer>

</body>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new
     Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58996975-1', 'auto');
    ga('send', 'pageview');

</script>

</html>

<!-- vim:set sts=4 -->
